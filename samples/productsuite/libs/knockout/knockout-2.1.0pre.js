// Knockout JavaScript library v2.1.0pre
// (c) Steven Sanderson - http://knockoutjs.com/
// License: MIT (http://www.opensource.org/licenses/mit-license.php)
// (c) Steven Sanderson - http://knockoutjs.com/
// License: MIT (http://www.opensource.org/licenses/mit-license.php)
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

(function(e,t,n,r){function i(e){throw e}function f(e){return function(){return e}}function l(r){function l(e,t,n){n&&t!==c.i.p(e)&&c.i.S(e,t),t!==c.i.p(e)&&c.a.ta(e,"change")}var c="undefined"!=typeof r?r:{};c.b=function(e,t){for(var n=e.split("."),r=c,i=0;i<n.length-1;i++)r=r[n[i]];r[n[n.length-1]]=t},c.A=function(e,t,n){e[t]=n},c.version="2.1.0pre",c.b("version",c.version),c.a=new function(){function r(e,t){if("INPUT"!=e.tagName||!e.type||"click"!=t.toLowerCase())return a;var n=e.type.toLowerCase();return"checkbox"==n||"radio"==n}var f=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,l={},h={};l[/Firefox\/2/i.test(n.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],l.MouseEvents="click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave".split(",");for(var d in l){var v=l[d];if(v.length)for(var g=0,y=v.length;g<y;g++)h[v[g]]=d}var b=function(){for(var e=3,n=t.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",r[0];);return 4<e?e:s}();return{Aa:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])},j:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Xa:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r]))return e[r];return u},ba:function(e,t){var n=c.a.j(e,t);0<=n&&e.splice(n,1)},xa:function(e){for(var e=e||[],t=[],n=0,r=e.length;n<r;n++)0>c.a.j(t,e[n])&&t.push(e[n]);return t},T:function(e,t){for(var e=e||[],n=[],r=0,i=e.length;r<i;r++)n.push(t(e[r]));return n},aa:function(e,t){for(var e=e||[],n=[],r=0,i=e.length;r<i;r++)t(e[r])&&n.push(e[r]);return n},M:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},ga:function(e){for(;e.firstChild;)c.removeNode(e.firstChild)},wb:function(e){for(var e=c.a.K(e),n=t.createElement("div"),r=0,i=e.length;r<i;r++)n.appendChild(e[r]);return n},Y:function(e,t){c.a.ga(e);if(t)for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])},Ja:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var r=n[0],i=r.parentNode,s=0,o=t.length;s<o;s++)i.insertBefore(t[s],r);s=0;for(o=n.length;s<o;s++)c.removeNode(n[s])}},La:function(e,t){0<=n.userAgent.indexOf("MSIE 6")?e.setAttribute("selected",t):e.selected=t},v:function(e){return(e||"").replace(f,"")},Fb:function(e,t){for(var n=[],r=(e||"").split(t),i=0,s=r.length;i<s;i++){var o=c.a.v(r[i]);""!==o&&n.push(o)}return n},Db:function(e,t){return e=e||"",t.length>e.length?a:e.substring(0,t.length)===t},$a:function(e,t){for(var n="return ("+e+")",r=0;r<t;r++)n="with(sc["+r+"]) { "+n+" } ";return new Function("sc",n)},hb:function(e,t){if(t.compareDocumentPosition)return 16==(t.compareDocumentPosition(e)&16);for(;e!=u;){if(e==t)return o;e=e.parentNode}return a},fa:function(e){return c.a.hb(e,t)},s:function(e,t,n){if("undefined"!=typeof jQuery){if(r(e,t))var s=n,n=function(e,t){var n=this.checked;t&&(this.checked=t.ab!==o),s.call(this,e),this.checked=n};jQuery(e).bind(t,n)}else"function"==typeof e.addEventListener?e.addEventListener(t,n,a):"undefined"!=typeof e.attachEvent?e.attachEvent("on"+t,function(t){n.call(e,t)}):i(Error("Browser doesn't support addEventListener or attachEvent"))},ta:function(n,s){(!n||!n.nodeType)&&i(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof jQuery){var u=[];r(n,s)&&u.push({ab:n.checked}),jQuery(n).trigger(s,u)}else"function"==typeof t.createEvent?"function"==typeof n.dispatchEvent?(u=t.createEvent(h[s]||"HTMLEvents"),u.initEvent(s,o,o,e,0,0,0,0,0,a,a,a,a,0,n),n.dispatchEvent(u)):i(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof n.fireEvent?("click"==s&&"INPUT"==n.tagName&&("checkbox"==n.type.toLowerCase()||"radio"==n.type.toLowerCase())&&(n.checked=n.checked!==o),n.fireEvent("on"+s)):i(Error("Browser doesn't support triggering events"))},d:function(e){return c.V(e)?e():e},gb:function(e,t){return 0<=c.a.j((e.className||"").split(/\s+/),t)},Qa:function(e,t,n){var r=c.a.gb(e,t);if(n&&!r)e.className=(e.className||"")+" "+t;else if(r&&!n){for(var n=(e.className||"").split(/\s+/),r="",i=0;i<n.length;i++)n[i]!=t&&(r+=n[i]+" ");e.className=c.a.v(r)}},Ma:function(e,t){var n=c.a.d(t);if(n===u||n===s)n="";"innerText"in e?e.innerText=n:e.textContent=n,9<=b&&(e.style.display=e.style.display)},ib:function(e){if(9<=b){var t=e.style.width;e.style.width=0,e.style.width=t}},Ab:function(e,t){for(var e=c.a.d(e),t=c.a.d(t),n=[],r=e;r<=t;r++)n.push(r);return n},K:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},pb:6===b,qb:7===b,nb:b,Ba:function(e,t){for(var n=c.a.K(e.getElementsByTagName("INPUT")).concat(c.a.K(e.getElementsByTagName("TEXTAREA"))),r="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[],s=n.length-1;0<=s;s--)r(n[s])&&i.push(n[s]);return i},xb:function(t){return"string"==typeof t&&(t=c.a.v(t))?e.JSON&&e.JSON.parse?e.JSON.parse(t):(new Function("return "+t))():u},qa:function(e){return("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&i(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")),JSON.stringify(c.a.d(e))},yb:function(e,n,r){var r=r||{},i=r.params||{},s=r.includeFields||this.Aa,o=e;if("object"==typeof e&&"FORM"==e.tagName)for(var o=e.action,u=s.length-1;0<=u;u--)for(var a=c.a.Ba(e,s[u]),f=a.length-1;0<=f;f--)i[a[f].name]=a[f].value;var n=c.a.d(n),l=t.createElement("FORM");l.style.display="none",l.action=o,l.method="post";for(var h in n)e=t.createElement("INPUT"),e.name=h,e.value=c.a.qa(c.a.d(n[h])),l.appendChild(e);for(h in i)e=t.createElement("INPUT"),e.name=h,e.value=i[h],l.appendChild(e);t.body.appendChild(l),r.submitter?r.submitter(l):l.submit(),setTimeout(function(){l.parentNode.removeChild(l)},0)}}},c.b("utils",c.a),c.b("utils.arrayForEach",c.a.q),c.b("utils.arrayFirst",c.a.Xa),c.b("utils.arrayFilter",c.a.aa),c.b("utils.arrayGetDistinctValues",c.a.xa),c.b("utils.arrayIndexOf",c.a.j),c.b("utils.arrayMap",c.a.T),c.b("utils.arrayPushAll",c.a.M),c.b("utils.arrayRemoveItem",c.a.ba),c.b("utils.extend",c.a.extend),c.b("utils.fieldsIncludedWithJsonPost",c.a.Aa),c.b("utils.getFormFields",c.a.Ba),c.b("utils.postJson",c.a.yb),c.b("utils.parseJson",c.a.xb),c.b("utils.registerEventHandler",c.a.s),c.b("utils.stringifyJson",c.a.qa),c.b("utils.range",c.a.Ab),c.b("utils.toggleDomNodeCssClass",c.a.Qa),c.b("utils.triggerEvent",c.a.ta),c.b("utils.unwrapObservable",c.a.d),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments),e=n.shift();return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),c.a.f=new function(){var e=0,t="__ko__"+(new Date).getTime(),n={};return{get:function(e,t){var n=c.a.f.getAll(e,a);return n===s?s:n[t]},set:function(e,t,n){n===s&&c.a.f.getAll(e,a)===s||(c.a.f.getAll(e,o)[t]=n)},getAll:function(r,i){var s=r[t];if(!s||"null"===s){if(!i)return;s=r[t]="ko"+e++,n[s]={}}return n[s]},clear:function(e){var r=e[t];r&&(delete n[r],e[t]=u)}}},c.b("utils.domData",c.a.f),c.b("utils.domData.clear",c.a.f.clear),c.a.D=new function(){function e(e,t){var r=c.a.f.get(e,n);return r===s&&t&&(r=[],c.a.f.set(e,n,r)),r}function t(n){var r=e(n,a);if(r)for(var r=r.slice(0),i=0;i<r.length;i++)r[i](n);c.a.f.clear(n),"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([n]);if(u[n.nodeType])for(r=n.firstChild;n=r;)r=n.nextSibling,8===n.nodeType&&t(n)}var n="__ko_domNodeDisposal__"+(new Date).getTime(),r={1:o,8:o,9:o},u={1:o,9:o};return{ua:function(t,n){"function"!=typeof n&&i(Error("Callback must be a function")),e(t,o).push(n)},Ia:function(t,r){var i=e(t,a);i&&(c.a.ba(i,r),0==i.length&&c.a.f.set(t,n,s))},I:function(e){if(r[e.nodeType]&&(t(e),u[e.nodeType])){var n=[];c.a.M(n,e.getElementsByTagName("*"));for(var e=0,i=n.length;e<i;e++)t(n[e])}},removeNode:function(e){c.I(e),e.parentNode&&e.parentNode.removeChild(e)}}},c.I=c.a.D.I,c.removeNode=c.a.D.removeNode,c.b("cleanNode",c.I),c.b("removeNode",c.removeNode),c.b("utils.domNodeDisposal",c.a.D),c.b("utils.domNodeDisposal.addDisposeCallback",c.a.D.ua),c.b("utils.domNodeDisposal.removeDisposeCallback",c.a.D.Ia),function(){c.a.na=function(n){var r;if("undefined"!=typeof jQuery){if((r=jQuery.clean([n]))&&r[0]){for(n=r[0];n.parentNode&&11!==n.parentNode.nodeType;)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}}else{var i=c.a.v(n).toLowerCase();r=t.createElement("div"),i=i.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],n="ignored<div>"+i[1]+n+i[2]+"</div>";for("function"==typeof e.innerShiv?r.appendChild(e.innerShiv(n)):r.innerHTML=n;i[0]--;)r=r.lastChild;r=c.a.K(r.lastChild.childNodes)}return r},c.a.Z=function(e,t){c.a.ga(e);if(t!==u&&t!==s)if("string"!=typeof t&&(t=t.toString()),"undefined"!=typeof jQuery)jQuery(e).html(t);else for(var n=c.a.na(t),r=0;r<n.length;r++)e.appendChild(n[r])}}(),c.b("utils.parseHtmlFragment",c.a.na),c.b("utils.setHtml",c.a.Z),c.r=function(){function e(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function t(e,n){if(e)if(8==e.nodeType){var r=c.r.Fa(e.nodeValue);r!=u&&n.push({fb:e,ub:r})}else if(1==e.nodeType)for(var r=0,i=e.childNodes,s=i.length;r<s;r++)t(i[r],n)}var n={};return{la:function(t){"function"!=typeof t&&i(Error("You can only pass a function to ko.memoization.memoize()"));var r=e()+e();return n[r]=t,"<!--[ko_memo:"+r+"]-->"},Ra:function(e,t){var r=n[e];r===s&&i(Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized."));try{return r.apply(u,t||[]),o}finally{delete n[e]}},Sa:function(e,n){var r=[];t(e,r);for(var i=0,s=r.length;i<s;i++){var o=r[i].fb,u=[o];n&&c.a.M(u,n),c.r.Ra(r[i].ub,u),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Fa:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:u}}}(),c.b("memoization",c.r),c.b("memoization.memoize",c.r.la),c.b("memoization.unmemoize",c.r.Ra),c.b("memoization.parseMemoText",c.r.Fa),c.b("memoization.unmemoizeDomNodeAndDescendants",c.r.Sa),c.za={throttle:function(e,t){e.throttleEvaluation=t;var n=u;return c.h({read:e,write:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}})},notify:function(e,t){return e.equalityComparer="always"==t?f(a):c.m.fn.equalityComparer,e}},c.b("extenders",c.za),c.Oa=function(e,t,n){this.target=e,this.ca=t,this.eb=n,c.A(this,"dispose",this.z)},c.Oa.prototype.z=function(){this.ob=o,this.eb()},c.R=function(){this.u={},c.a.extend(this,c.R.fn),c.A(this,"subscribe",this.ra),c.A(this,"extend",this.extend),c.A(this,"getSubscriptionsCount",this.lb)},c.R.fn={ra:function(e,t,n){var n=n||"change",e=t?e.bind(t):e,r=new c.Oa(this,e,function(){c.a.ba(this.u[n],r)}.bind(this));return this.u[n]||(this.u[n]=[]),this.u[n].push(r),r},notifySubscribers:function(e,t){t=t||"change",this.u[t]&&c.a.q(this.u[t].slice(0),function(t){t&&t.ob!==o&&t.ca(e)})},lb:function(){var e=0,t;for(t in this.u)this.u.hasOwnProperty(t)&&(e+=this.u[t].length);return e},extend:function(e){var t=this;if(e)for(var n in e){var r=c.za[n];"function"==typeof r&&(t=r(t,e[n]))}return t}},c.Da=function(e){return"function"==typeof e.ra&&"function"==typeof e.notifySubscribers},c.b("subscribable",c.R),c.b("isSubscribable",c.Da),c.U=function(){var e=[];return{Ya:function(t){e.push({ca:t,ya:[]})},end:function(){e.pop()},Ha:function(t){c.Da(t)||i(Error("Only subscribable things can act as dependencies"));if(0<e.length){var n=e[e.length-1];0<=c.a.j(n.ya,t)||(n.ya.push(t),n.ca(t))}}}}();var h={"undefined":o,"boolean":o,number:o,string:o};c.m=function(e){function t(){if(0<arguments.length){if(!t.equalityComparer||!t.equalityComparer(n,arguments[0]))t.G(),n=arguments[0],t.F();return this}return c.U.Ha(t),n}var n=e;return c.R.call(t),t.F=function(){t.notifySubscribers(n)},t.G=function(){t.notifySubscribers(n,"beforeChange")},c.a.extend(t,c.m.fn),c.A(t,"valueHasMutated",t.F),c.A(t,"valueWillMutate",t.G),t},c.m.fn={equalityComparer:function(e,t){return e===u||typeof e in h?e===t:a}};var d=c.m.zb="__ko_proto__";c.m.fn[d]=c.m,c.V=function(e){return e===u||e===s||e[d]===s?a:e[d]===c.m?o:c.V(e[d])},c.P=function(e){return"function"==typeof e&&e[d]===c.m||"function"==typeof e&&e[d]===c.h&&e.mb?o:a},c.b("observable",c.m),c.b("isObservable",c.V),c.b("isWriteableObservable",c.P),c.Q=function(e){0==arguments.length&&(e=[]),e!==u&&e!==s&&!("length"in e)&&i(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var t=c.m(e);return c.a.extend(t,c.Q.fn),t},c.Q.fn={remove:function(e){for(var t=this(),n=[],r="function"==typeof e?e:function(t){return t===e},i=0;i<t.length;i++){var s=t[i];r(s)&&(0===n.length&&this.G(),n.push(s),t.splice(i,1),i--)}return n.length&&this.F(),n},removeAll:function(e){if(e===s){var t=this(),n=t.slice(0);return this.G(),t.splice(0,t.length),this.F(),n}return e?this.remove(function(t){return 0<=c.a.j(e,t)}):[]},destroy:function(e){var t=this(),n="function"==typeof e?e:function(t){return t===e};this.G();for(var r=t.length-1;0<=r;r--)n(t[r])&&(t[r]._destroy=o);this.F()},destroyAll:function(e){return e===s?this.destroy(f(o)):e?this.destroy(function(t){return 0<=c.a.j(e,t)}):[]},indexOf:function(e){var t=this();return c.a.j(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.G(),this()[n]=t,this.F())}},c.a.q("pop,push,reverse,shift,sort,splice,unshift".split(","),function(e){c.Q.fn[e]=function(){var t=this();return this.G(),t=t[e].apply(t,arguments),this.F(),t}}),c.a.q(["slice"],function(e){c.Q.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),c.b("observableArray",c.Q),c.h=function(e,t,n){function r(){c.a.q(E,function(e){e.z()}),E=[]}function l(){var e=d.throttleEvaluation;e&&0<=e?(clearTimeout(C),C=setTimeout(h,e)):h()}function h(){if(y&&T())S();else{try{var e=c.a.T(E,function(e){return e.target});c.U.Ya(function(t){var n;0<=(n=c.a.j(e,t))?e[n]=s:E.push(t.ra(l))});for(var n=b.call(t),r=e.length-1;0<=r;r--)e[r]&&E.splice(r,1)[0].z();d.notifySubscribers(g,"beforeChange"),g=n}finally{c.U.end()}d.notifySubscribers(g),y=o}}function d(){if(!(0<arguments.length))return y||h(),c.U.Ha(d),g;v.apply(d,arguments)}function v(){"function"==typeof w?w.apply(t,arguments):i(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."))}var g,y=a,b=e;b&&"object"==typeof b?(n=b,b=n.read):(n=n||{},b||(b=n.read)),"function"!=typeof b&&i(Error("Pass a function that returns the value of the ko.computed"));var w=n.write;t||(t=n.owner);var E=[],S=r,x="object"==typeof n.disposeWhenNodeIsRemoved?n.disposeWhenNodeIsRemoved:u,T=n.disposeWhen||f(a);if(x){S=function(){c.a.D.Ia(x,arguments.callee),r()},c.a.D.ua(x,S);var N=T,T=function(){return!c.a.fa(x)||N()}}var C=u;return d.kb=function(){return E.length},d.mb="function"==typeof n.write,d.z=function(){S()},c.R.call(d),c.a.extend(d,c.h.fn),n.deferEvaluation!==o&&h(),c.A(d,"dispose",d.z),c.A(d,"getDependenciesCount",d.kb),d},r=c.m.zb,c.h[r]=c.m,c.h.fn={},c.h.fn[r]=c.h,c.b("dependentObservable",c.h),c.b("computed",c.h),function(){function e(r,i,o){o=o||new n,r=i(r);if("object"!=typeof r||r===u||r===s||r instanceof Date)return r;var a=r instanceof Array?[]:{};return o.save(r,a),t(r,function(t){var n=i(r[t]);switch(typeof n){case"boolean":case"number":case"string":case"function":a[t]=n;break;case"object":case"undefined":var u=o.get(n);a[t]=u!==s?u:e(n,i,o)}}),a}function t(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}function n(){var e=[],t=[];this.save=function(n,r){var i=c.a.j(e,n);0<=i?t[i]=r:(e.push(n),t.push(r))},this.get=function(n){return n=c.a.j(e,n),0<=n?t[n]:s}}c.Pa=function(t){return 0==arguments.length&&i(Error("When calling ko.toJS, pass the object you want to convert.")),e(t,function(e){for(var t=0;c.V(e)&&10>t;t++)e=e();return e})},c.toJSON=function(e){return e=c.Pa(e),c.a.qa(e)}}(),c.b("toJS",c.Pa),c.b("toJSON",c.toJSON),function(){c.i={p:function(e){return"OPTION"==e.tagName?e.__ko__hasDomDataOptionValue__===o?c.a.f.get(e,c.c.options.ma):e.getAttribute("value"):"SELECT"==e.tagName?0<=e.selectedIndex?c.i.p(e.options[e.selectedIndex]):s:e.value},S:function(e,t){if("OPTION"==e.tagName)switch(typeof t){case"string":c.a.f.set(e,c.c.options.ma,s),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:c.a.f.set(e,c.c.options.ma,t),e.__ko__hasDomDataOptionValue__=o,e.value="number"==typeof t?t:""}else if("SELECT"==e.tagName){for(var n=e.options.length-1;0<=n;n--)if(c.i.p(e.options[n])==t){e.selectedIndex=n;break}}else{if(t===u||t===s)t="";e.value=t}}}}(),c.b("selectExtensions",c.i),c.b("selectExtensions.readValue",c.i.p),c.b("selectExtensions.writeValue",c.i.S),c.k=function(){function e(e,n){for(var r=u;e!=r;)r=e,e=e.replace(t,function(e,t){return n[t]});return e}var t=/\@ko_token_(\d+)\@/g,n=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,r=["true","false"];return{C:[],X:function(t){var n=c.a.v(t);if(3>n.length)return[];"{"===n.charAt(0)&&(n=n.substring(1,n.length-1));for(var t=[],r=u,i,s=0;s<n.length;s++){var o=n.charAt(s);if(r===u)switch(o){case'"':case"'":case"/":r=s,i=o}else if(o==i&&"\\"!==n.charAt(s-1)){o=n.substring(r,s+1),t.push(o);var a="@ko_token_"+(t.length-1)+"@",n=n.substring(0,r)+a+n.substring(s+1),s=s-(o.length-a.length),r=u}}i=r=u;for(var f=0,l=u,s=0;s<n.length;s++){o=n.charAt(s);if(r===u)switch(o){case"{":r=s,l=o,i="}";break;case"(":r=s,l=o,i=")";break;case"[":r=s,l=o,i="]"}o===l?f++:o===i&&(f--,0===f&&(o=n.substring(r,s+1),t.push(o),a="@ko_token_"+(t.length-1)+"@",n=n.substring(0,r)+a+n.substring(s+1),s-=o.length-a.length,r=u))}i=[],n=n.split(","),r=0;for(s=n.length;r<s;r++)f=n[r],l=f.indexOf(":"),0<l&&l<f.length-1?(o=f.substring(l+1),i.push({key:e(f.substring(0,l),t),value:e(o,t)})):i.push({unknown:e(f,t)});return i},ja:function(e){for(var t="string"==typeof e?c.k.X(e):e,i=[],e=[],s,o=0;s=t[o];o++)if(0<i.length&&i.push(","),s.key){var a;e:{a=s.key;var f=c.a.v(a);switch(f.length&&f.charAt(0)){case"'":case'"':break e;default:a="'"+f+"'"}}s=s.value,i.push(a),i.push(":"),i.push(s),f=c.a.v(s);if(0<=c.a.j(r,c.a.v(f).toLowerCase())?0:f.match(n)!==u)0<e.length&&e.push(", "),e.push(a+" : function(__ko_value) { "+s+" = __ko_value; }")}else s.unknown&&i.push(s.unknown);return t=i.join(""),0<e.length&&(t=t+", '_ko_property_writers' : { "+e.join("")+" } "),t},sb:function(e,t){for(var n=0;n<e.length;n++)if(c.a.v(e[n].key)==t)return o;return a}}}(),c.b("jsonExpressionRewriting",c.k),c.b("jsonExpressionRewriting.bindingRewriteValidators",c.k.C),c.b("jsonExpressionRewriting.parseObjectLiteral",c.k.X),c.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",c.k.ja),function(){function e(e){return 8==e.nodeType&&(a?e.text:e.nodeValue).match(f)}function n(e){return 8==e.nodeType&&(a?e.text:e.nodeValue).match(l)}function r(t,r){for(var s=t,o=1,a=[];s=s.nextSibling;){if(n(s)&&(o--,0===o))return a;a.push(s),e(s)&&o++}return r||i(Error("Cannot find closing comment tag to match: "+t.nodeValue)),u}function s(e,t){var n=r(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:u}var a="<!--test-->"===t.createComment("test").text,f=a?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:/^\s*ko\s+(.*\:.*)\s*$/,l=a?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,h={ul:o,ol:o};c.e={B:{},childNodes:function(t){return e(t)?r(t):t.childNodes},ha:function(t){if(e(t))for(var t=c.e.childNodes(t),n=0,r=t.length;n<r;n++)c.removeNode(t[n]);else c.a.ga(t)},Y:function(t,n){if(e(t)){c.e.ha(t);for(var r=t.nextSibling,i=0,s=n.length;i<s;i++)r.parentNode.insertBefore(n[i],r)}else c.a.Y(t,n)},Ga:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},Ca:function(t,n,r){e(t)?t.parentNode.insertBefore(n,r.nextSibling):r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n)},firstChild:function(t){return e(t)?!t.nextSibling||n(t.nextSibling)?u:t.nextSibling:t.firstChild},nextSibling:function(t){return e(t)&&(t=s(t)),t.nextSibling&&n(t.nextSibling)?u:t.nextSibling},Ta:function(t){return(t=e(t))?t[1]:u},Ea:function(t){if(h[t.tagName.toLowerCase()]){var r=t.firstChild;if(r)do if(1===r.nodeType){var i;i=r.firstChild;var a=u;if(i)do if(a)a.push(i);else if(e(i)){var f=s(i,o);f?i=f:a=[i]}else n(i)&&(a=[i]);while(i=i.nextSibling);if(i=a){a=r.nextSibling;for(f=0;f<i.length;f++)a?t.insertBefore(i[f],a):t.appendChild(i[f])}}while(r=r.nextSibling)}}}}(),c.b("virtualElements",c.e),c.b("virtualElements.allowedBindings",c.e.B),c.b("virtualElements.emptyNode",c.e.ha),c.b("virtualElements.insertAfter",c.e.Ca),c.b("virtualElements.prepend",c.e.Ga),c.b("virtualElements.setDomNodeChildren",c.e.Y),function(){c.H=function(){this.Za={}},c.a.extend(c.H.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind")!=u;case 8:return c.e.Ta(e)!=u;default:return a}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t):u},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return c.e.Ta(e);default:return u}},parseBindingsString:function(e,t){try{var n=t.$data,n="object"==typeof n&&n!=u?[n,t]:[t],r=n.length,s=this.Za,o=r+"_"+e,a;if(!(a=s[o])){var f=" { "+c.k.ja(e)+" } ";a=s[o]=c.a.$a(f,r)}return a(n)}catch(l){i(Error("Unable to parse bindings.\nMessage: "+l+";\nBindings value: "+e))}}}),c.H.instance=new c.H}(),c.b("bindingProvider",c.H),function(){function t(e,t,r){for(var i=c.e.firstChild(t);t=i;)i=c.e.nextSibling(t),n(e,t,r)}function n(e,n,i){var s=o,a=1===n.nodeType;a&&c.e.Ea(n);if(a&&i||c.H.instance.nodeHasBindings(n))s=r(n,u,e,i).Cb;s&&t(e,n,!a)}function r(e,t,n,r){function o(e){return function(){return l[e]}}function a(){return l}var f=0,l,h;return c.h(function(){var u=n&&n instanceof c.w?n:new c.w(c.a.d(n)),p=u.$data;r&&c.Na(e,u);if(l=("function"==typeof t?t():t)||c.H.instance.getBindings(e,u)){if(0===f){f=1;for(var d in l){var v=c.c[d];v&&8===e.nodeType&&!c.e.B[d]&&i(Error("The binding '"+d+"' cannot be used with virtual elements")),v&&"function"==typeof v.init&&(v=(0,v.init)(e,o(d),a,p,u))&&v.controlsDescendantBindings&&(h!==s&&i(Error("Multiple bindings ("+h+" and "+d+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),h=d)}f=2}if(2===f)for(d in l)(v=c.c[d])&&"function"==typeof v.update&&(0,v.update)(e,o(d),a,p,u)}},u,{disposeWhenNodeIsRemoved:e}),{Cb:h===s}}c.c={},c.w=function(e,t){t?(c.a.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=e),this.$data=e},c.w.prototype.createChildContext=function(e){return new c.w(e,this)},c.w.prototype.extend=function(e){var t=new c.w(this.Eb,this);return c.a.extend(t,e)},c.Na=function(e,t){if(2!=arguments.length)return c.a.f.get(e,"__ko_bindingContext__");c.a.f.set(e,"__ko_bindingContext__",t)},c.wa=function(e,t,n){return 1===e.nodeType&&c.e.Ea(e),r(e,t,n,o)},c.Ua=function(e,n){(1===n.nodeType||8===n.nodeType)&&t(e,n,o)},c.va=function(t,r){r&&1!==r.nodeType&&8!==r.nodeType&&i(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")),r=r||e.document.body,n(t,r,o)},c.ea=function(e){switch(e.nodeType){case 1:case 8:var t=c.Na(e);if(t)return t;if(e.parentNode)return c.ea(e.parentNode)}},c.cb=function(e){return(e=c.ea(e))?e.$data:s},c.b("bindingHandlers",c.c),c.b("applyBindings",c.va),c.b("applyBindingsToDescendants",c.Ua),c.b("applyBindingsToNode",c.wa),c.b("contextFor",c.ea),c.b("dataFor",c.cb)}(),c.a.q(["click"],function(e){c.c[e]={init:function(t,n,r,i){return c.c.event.init.call(this,t,function(){var t={};return t[e]=n(),t},r,i)}}}),c.c.event={init:function(e,t,n,r){var i=t()||{},s;for(s in i)(function(){var i=s;"string"==typeof i&&c.a.s(e,i,function(e){var s,u=t()[i];if(u){var f=n();try{var l=c.a.K(arguments);l.unshift(r),s=u.apply(r,l)}finally{s!==o&&(e.preventDefault?e.preventDefault():e.returnValue=a)}f[i+"Bubble"]===a&&(e.cancelBubble=o,e.stopPropagation&&e.stopPropagation())}})})()}},c.c.submit={init:function(e,t,n,r){"function"!=typeof t()&&i(Error("The value for a submit binding must be a function")),c.a.s(e,"submit",function(n){var i,s=t();try{i=s.call(r,e)}finally{i!==o&&(n.preventDefault?n.preventDefault():n.returnValue=a)}})}},c.c.visible={update:function(e,t){var n=c.a.d(t()),r="none"!=e.style.display;n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},c.c.enable={update:function(e,t){var n=c.a.d(t());n&&e.disabled?e.removeAttribute("disabled"):!n&&!e.disabled&&(e.disabled=o)}},c.c.disable={update:function(e,t){c.c.enable.update(e,function(){return!c.a.d(t())})}},c.c.value={init:function(e,t,n){var r=["change"],i=n().valueUpdate;i&&("string"==typeof i&&(i=[i]),c.a.M(r,i),r=c.a.xa(r)),c.a.q(r,function(r){var i=a;c.a.Db(r,"after")&&(i=o,r=r.substring(5));var s=i?function(e){setTimeout(e,0)}:function(e){e()};c.a.s(e,r,function(){s(function(){var r=t(),i=c.i.p(e);c.P(r)?r(i):(r=n(),r._ko_property_writers&&r._ko_property_writers.value&&r._ko_property_writers.value(i))})})})},update:function(e,t){var n=c.a.d(t()),r=c.i.p(e),i=n!=r;0===n&&0!==r&&"0"!==r&&(i=o),i&&(r=function(){c.i.S(e,n)},r(),"SELECT"==e.tagName&&setTimeout(r,0)),"SELECT"==e.tagName&&0<e.length&&l(e,n,a)}},c.c.options={update:function(e,n,r){"SELECT"!=e.tagName&&i(Error("options binding applies only to SELECT elements"));var a=0==e.length,f=c.a.T(c.a.aa(e.childNodes,function(e){return e.tagName&&"OPTION"==e.tagName&&e.selected}),function(e){return c.i.p(e)||e.innerText||e.textContent}),h=e.scrollTop;e.scrollTop=0;for(var d=c.a.d(n());0<e.length;)c.I(e.options[0]),e.remove(0);if(d){r=r(),"number"!=typeof d.length&&(d=[d]);if(r.optionsCaption){var v=t.createElement("OPTION");c.a.Z(v,r.optionsCaption),c.i.S(v,s),e.appendChild(v)}for(var n=0,g=d.length;n<g;n++){var v=t.createElement("OPTION"),y="string"==typeof r.optionsValue?d[n][r.optionsValue]:d[n],y=c.a.d(y);c.i.S(v,y);var b=r.optionsText,y="function"==typeof b?b(d[n]):"string"==typeof b?d[n][b]:y;if(y===u||y===s)y="";c.a.Ma(v,y),e.appendChild(v)}d=e.getElementsByTagName("OPTION"),n=v=0;for(g=d.length;n<g;n++)0<=c.a.j(f,c.i.p(d[n]))&&(c.a.La(d[n],o),v++);h&&(e.scrollTop=h),a&&"value"in r&&l(e,c.a.d(r.value),o),c.a.ib(e)}}},c.c.options.ma="__ko.optionValueDomData__",c.c.selectedOptions={ia:function(e){for(var t=[],e=e.childNodes,n=0,r=e.length;n<r;n++){var i=e[n];"OPTION"==i.tagName&&i.selected?t.push(c.i.p(i)):"OPTGROUP"==i.tagName&&(i=c.c.selectedOptions.ia(i),Array.prototype.splice.apply(t,[t.length,0].concat(i)))}return t},init:function(e,t,n){c.a.s(e,"change",function(){var e=t();c.P(e)?e(c.c.selectedOptions.ia(this)):(e=n(),e._ko_property_writers&&e._ko_property_writers.value&&e._ko_property_writers.value(c.c.selectedOptions.ia(this)))})},update:function(e,t){"SELECT"!=e.tagName&&i(Error("values binding applies only to SELECT elements"));var n=c.a.d(t());if(n&&"number"==typeof n.length)for(var r=e.childNodes,s=0,o=r.length;s<o;s++){var u=r[s];"OPTION"==u.tagName&&c.a.La(u,0<=c.a.j(n,c.i.p(u)))}}},c.c.text={update:function(e,t){c.a.Ma(e,t())}},c.c.html={init:function(){return{controlsDescendantBindings:o}},update:function(e,t){var n=c.a.d(t());c.a.Z(e,n)}},c.c.css={update:function(e,t){var n=c.a.d(t()||{}),r;for(r in n)if("string"==typeof r){var i=c.a.d(n[r]);c.a.Qa(e,r,i)}}},c.c.style={update:function(e,t){var n=c.a.d(t()||{}),r;for(r in n)if("string"==typeof r){var i=c.a.d(n[r]);e.style[r]=i||""}}},c.c.uniqueName={init:function(e,n){n()&&(e.name="ko_unique_"+ ++c.c.uniqueName.bb,(c.a.pb||c.a.qb)&&e.mergeAttributes(t.createElement("<input name='"+e.name+"'/>"),a))}},c.c.uniqueName.bb=0,c.c.checked={init:function(e,t,n){c.a.s(e,"click",function(){var r;if("checkbox"==e.type)r=e.checked;else{if("radio"!=e.type||!e.checked)return;r=e.value}var i=t();"checkbox"==e.type&&c.a.d(i)instanceof Array?(r=c.a.j(c.a.d(i),e.value),e.checked&&0>r?i.push(e.value):!e.checked&&0<=r&&i.splice(r,1)):c.P(i)?i()!==r&&i(r):(i=n(),i._ko_property_writers&&i._ko_property_writers.checked&&i._ko_property_writers.checked(r))}),"radio"==e.type&&!e.name&&c.c.uniqueName.init(e,f(o))},update:function(e,t){var n=c.a.d(t());"checkbox"==e.type?e.checked=n instanceof Array?0<=c.a.j(n,e.value):n:"radio"==e.type&&(e.checked=e.value==n)}},c.c.attr={update:function(e,t){var n=c.a.d(t())||{},r;for(r in n)if("string"==typeof r){var i=c.a.d(n[r]);i===a||i===u||i===s?e.removeAttribute(r):e.setAttribute(r,i.toString())}}},c.c.hasfocus={init:function(e,t,n){function r(e){var r=t();e!=c.a.d(r)&&(c.P(r)?r(e):(r=n(),r._ko_property_writers&&r._ko_property_writers.hasfocus&&r._ko_property_writers.hasfocus(e)))}c.a.s(e,"focus",function(){r(o)}),c.a.s(e,"focusin",function(){r(o)}),c.a.s(e,"blur",function(){r(a)}),c.a.s(e,"focusout",function(){r(a)})},update:function(e,t){var n=c.a.d(t());n?e.focus():e.blur(),c.a.ta(e,n?"focusin":"focusout")}},c.c["with"]={n:function(e){return function(){var t=e();return{"if":t,data:t,templateEngine:c.o.J}}},init:function(e,t){return c.c.template.init(e,c.c["with"].n(t))},update:function(e,t,n,r,i){return c.c.template.update(e,c.c["with"].n(t),n,r,i)}},c.k.C["with"]=a,c.e.B["with"]=o,c.c["if"]={n:function(e){return function(){return{"if":e(),templateEngine:c.o.J}}},init:function(e,t){return c.c.template.init(e,c.c["if"].n(t))},update:function(e,t,n,r,i){return c.c.template.update(e,c.c["if"].n(t),n,r,i)}},c.k.C["if"]=a,c.e.B["if"]=o,c.c.ifnot={n:function(e){return function(){return{ifnot:e(),templateEngine:c.o.J}}},init:function(e,t){return c.c.template.init(e,c.c.ifnot.n(t))},update:function(e,t,n,r,i){return c.c.template.update(e,c.c.ifnot.n(t),n,r,i)}},c.k.C.ifnot=a,c.e.B.ifnot=o,c.c.foreach={n:function(e){return function(){var t=c.a.d(e());return!t||"number"==typeof t.length?{foreach:t,templateEngine:c.o.J}:{foreach:t.data,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,templateEngine:c.o.J}}},init:function(e,t){return c.c.template.init(e,c.c.foreach.n(t))},update:function(e,t,n,r,i){return c.c.template.update(e,c.c.foreach.n(t),n,r,i)}},c.k.C.foreach=a,c.e.B.foreach=o,c.t=function(){},c.t.prototype.renderTemplateSource=function(){i(Error("Override renderTemplateSource"))},c.t.prototype.createJavaScriptEvaluatorBlock=function(){i(Error("Override createJavaScriptEvaluatorBlock"))},c.t.prototype.makeTemplateSource=function(e){if("string"==typeof e){var n=t.getElementById(e);return n||i(Error("Cannot find template with ID "+e)),new c.l.g(n)}if(1==e.nodeType||8==e.nodeType)return new c.l.L(e);i(Error("Unknown template type: "+e))},c.t.prototype.renderTemplate=function(e,t,n){return this.renderTemplateSource(this.makeTemplateSource(e),t,n)},c.t.prototype.isTemplateRewritten=function(e){return this.allowTemplateRewriting===a||this.W&&this.W[e]?o:this.makeTemplateSource(e).data("isRewritten")},c.t.prototype.rewriteTemplate=function(e,t){var n=this.makeTemplateSource(e),r=t(n.text());n.text(r),n.data("isRewritten",o),"string"==typeof e&&(this.W=this.W||{},this.W[e]=o)},c.b("templateEngine",c.t),c.$=function(){function e(e,t,n){for(var e=c.k.X(e),r=c.k.C,s=0;s<e.length;s++){var o=e[s].key;if(r.hasOwnProperty(o)){var u=r[o];"function"==typeof u?(o=u(e[s].value))&&i(Error(o)):u||i(Error("This template engine does not support the '"+o+"' binding within its templates"))}}return e="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+c.k.ja(e)+" } })()         })",n.createJavaScriptEvaluatorBlock(e)+t}var t=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,n=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{jb:function(e,t){t.isTemplateRewritten(e)||t.rewriteTemplate(e,function(e){return c.$.vb(e,t)})},vb:function(r,i){return r.replace(t,function(t,n,r,s,o,u,a){return e(a,n,i)}).replace(n,function(t,n){return e(n,"<!-- ko -->",i)})},Va:function(e){return c.r.la(function(t,n){t.nextSibling&&c.wa(t.nextSibling,e,n)})}}}(),c.b("templateRewriting",c.$),c.b("templateRewriting.applyMemoizedBindingsToNextSibling",c.$.Va),function(){c.l={},c.l.g=function(e){this.g=e},c.l.g.prototype.text=function(){if(0==arguments.length)return"script"==this.g.tagName.toLowerCase()?this.g.text:this.g.innerHTML;var e=arguments[0];"script"==this.g.tagName.toLowerCase()?this.g.text=e:c.a.Z(this.g,e)},c.l.g.prototype.data=function(e){if(1===arguments.length)return c.a.f.get(this.g,"templateSourceData_"+e);c.a.f.set(this.g,"templateSourceData_"+e,arguments[1])},c.l.L=function(e){this.g=e},c.l.L.prototype=new c.l.g,c.l.L.prototype.text=function(){if(0==arguments.length){var e=c.a.f.get(this.g,"__ko_anon_template__")||{};return e.sa===s&&e.da&&(e.sa=e.da.innerHTML),e.sa}c.a.f.set(this.g,"__ko_anon_template__",{sa:arguments[0]})},c.l.g.prototype.nodes=function(){if(0==arguments.length)return(c.a.f.get(this.g,"__ko_anon_template__")||{}).da;c.a.f.set(this.g,"__ko_anon_template__",{da:arguments[0]})},c.b("templateSources",c.l),c.b("templateSources.domElement",c.l.g),c.b("templateSources.anonymousTemplate",c.l.L)}(),function(){function e(e,t,n){for(var r,t=c.e.nextSibling(t);e&&(r=e)!==t;)e=c.e.nextSibling(r),(1===r.nodeType||8===r.nodeType)&&n(r)}function t(t,n){if(t.length){var r=t[0],i=t[t.length-1];e(r,i,function(e){c.va(n,e)}),e(r,i,function(e){c.r.Sa(e,[n])})}}function n(e,n,s,u,f){var f=f||{},l=f.templateEngine||r;c.$.jb(s,l),s=l.renderTemplate(s,u,f),("number"!=typeof s.length||0<s.length&&"number"!=typeof s[0].nodeType)&&i(Error("Template engine must return an array of DOM nodes")),l=a;switch(n){case"replaceChildren":c.e.Y(e,s),l=o;break;case"replaceNode":c.a.Ja(e,s),l=o;break;case"ignoreTargetNode":break;default:i(Error("Unknown renderMode: "+n))}return l&&(t(s,u),f.afterRender&&f.afterRender(s,u.$data)),s}var r;c.pa=function(e){e!=s&&!(e instanceof c.t)&&i(Error("templateEngine must inherit from ko.templateEngine")),r=e},c.oa=function(e,t,o,a,f){o=o||{},(o.templateEngine||r)==s&&i(Error("Set a template engine before calling renderTemplate")),f=f||"replaceChildren";if(a){var l=a.nodeType?a:0<a.length?a[0]:u;return c.h(function(){var r=t&&t instanceof c.w?t:new c.w(c.a.d(t)),i="function"==typeof e?e(r.$data):e,r=n(a,f,i,r,o);"replaceNode"==f&&(a=r,l=a.nodeType?a:0<a.length?a[0]:u)},u,{disposeWhen:function(){return!l||!c.a.fa(l)},disposeWhenNodeIsRemoved:l&&"replaceNode"==f?l.parentNode:l})}return c.r.la(function(n){c.oa(e,t,o,n,"replaceNode")})},c.Bb=function(e,r,i,o,a){function f(e,n){var r=l(e);t(n,r),i.afterRender&&i.afterRender(n,r.$data)}function l(e){return a.createChildContext(c.a.d(e))}return c.h(function(){var t=c.a.d(r)||[];"undefined"==typeof t.length&&(t=[t]),t=c.a.aa(t,function(e){return i.includeDestroyed||e===s||e===u||!c.a.d(e._destroy)}),c.a.Ka(o,t,function(t){var r="function"==typeof e?e(t):e;return n(u,"ignoreTargetNode",r,l(t),i)},i,f)},u,{disposeWhenNodeIsRemoved:o})},c.c.template={init:function(e,t){var n=c.a.d(t());return"string"!=typeof n&&!n.name&&(1==e.nodeType||8==e.nodeType)&&(n=1==e.nodeType?e.childNodes:c.e.childNodes(e),n=c.a.wb(n),(new c.l.L(e)).nodes(n)),{controlsDescendantBindings:o}},update:function(e,t,n,r,i){t=c.a.d(t()),r=o,"string"==typeof t?n=t:(n=t.name,"if"in t&&(r=r&&c.a.d(t["if"])),"ifnot"in t&&(r=r&&!c.a.d(t.ifnot)));var s=u;"object"==typeof t&&"foreach"in t?s=c.Bb(n||e,r&&t.foreach||[],t,e,i):r?(i="object"==typeof t&&"data"in t?i.createChildContext(c.a.d(t.data)):i,s=c.oa(n||e,i,t,e)):c.e.ha(e),i=s,(t=c.a.f.get(e,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof t.z&&t.z(),c.a.f.set(e,"__ko__templateSubscriptionDomDataKey__",i)}},c.k.C.template=function(e){return e=c.k.X(e),1==e.length&&e[0].unknown||c.k.sb(e,"name")?u:"This template engine does not support anonymous templates nested within its templates"},c.e.B.template=o}(),c.b("setTemplateEngine",c.pa),c.b("renderTemplate",c.oa),function(){c.a.N=function(e,t,n){if(n===s)return c.a.N(e,t,1)||c.a.N(e,t,10)||c.a.N(e,t,Number.MAX_VALUE);for(var e=e||[],t=t||[],r=e,i=t,o=[],a=0;a<=i.length;a++)o[a]=[];for(var a=0,f=Math.min(r.length,n);a<=f;a++)o[0][a]=a;a=1;for(f=Math.min(i.length,n);a<=f;a++)o[a][0]=a;for(var f=r.length,l,h=i.length,a=1;a<=f;a++){l=Math.max(1,a-n);for(var d=Math.min(h,a+n);l<=d;l++)o[l][a]=r[a-1]===i[l-1]?o[l-1][a-1]:Math.min(o[l-1][a]===s?Number.MAX_VALUE:o[l-1][a]+1,o[l][a-1]===s?Number.MAX_VALUE:o[l][a-1]+1)}n=e.length,r=t.length,i=[],a=o[r][n];if(a===s)o=u;else{for(;0<n||0<r;){f=o[r][n],h=0<r?o[r-1][n]:a+1,d=0<n?o[r][n-1]:a+1,l=0<r&&0<n?o[r-1][n-1]:a+1;if(h===s||h<f-1)h=a+1;if(d===s||d<f-1)d=a+1;l<f-1&&(l=a+1),h<=d&&h<l?(i.push({status:"added",value:t[r-1]}),r--):(d<h&&d<l?i.push({status:"deleted",value:e[n-1]}):(i.push({status:"retained",value:e[n-1]}),r--),n--)}o=i.reverse()}return o}}(),c.b("utils.compareArrays",c.a.N),function(){function e(e){if(2<e.length){for(var t=e[0],n=e[e.length-1],r=[t];t!==n;){t=t.nextSibling;if(!t)return;r.push(t)}Array.prototype.splice.apply(e,[0,e.length].concat(r))}}function t(t,n,r,i){var s=[],t=c.h(function(){var t=n(r)||[];0<s.length&&(e(s),c.a.Ja(s,t),i&&i(r,t)),s.splice(0,s.length),c.a.M(s,t)},u,{disposeWhenNodeIsRemoved:t,disposeWhen:function(){return 0==s.length||!c.a.fa(s[0])}});return{tb:s,h:t}}c.a.Ka=function(n,r,i,f,l){for(var r=r||[],f=f||{},h=c.a.f.get(n,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===s,d=c.a.f.get(n,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],v=c.a.T(d,function(e){return e.Wa}),g=c.a.N(v,r),r=[],y=0,w=[],v=[],E=u,S=0,x=g.length;S<x;S++)switch(g[S].status){case"retained":var T=d[y];r.push(T),0<T.O.length&&(E=T.O[T.O.length-1]),y++;break;case"deleted":d[y].h.z(),e(d[y].O),c.a.q(d[y].O,function(e){w.push({element:e,index:S,value:g[S].value}),E=e}),y++;break;case"added":var T=g[S].value,N=t(n,i,T,l),C=N.tb;r.push({Wa:g[S].value,O:C,h:N.h});for(var N=0,k=C.length;N<k;N++){var L=C[N];v.push({element:L,index:S,value:g[S].value}),E==u?c.e.Ga(n,L):c.e.Ca(n,L,E),E=L}l&&l(T,C)}c.a.q(w,function(e){c.I(e.element)}),i=a;if(!h){if(f.afterAdd)for(S=0;S<v.length;S++)f.afterAdd(v[S].element,v[S].index,v[S].value);if(f.beforeRemove){for(S=0;S<w.length;S++)f.beforeRemove(w[S].element,w[S].index,w[S].value);i=o}}i||c.a.q(w,function(e){c.removeNode(e.element)}),c.a.f.set(n,"setDomNodeChildrenFromArrayMapping_lastMappingResult",r)}}(),c.b("utils.setDomNodeChildrenFromArrayMapping",c.a.Ka),c.o=function(){this.allowTemplateRewriting=a},c.o.prototype=new c.t,c.o.prototype.renderTemplateSource=function(e){var t=9>c.a.nb||!e.nodes?u:e.nodes();return t?c.a.K(t.cloneNode(o).childNodes):(e=e.text(),c.a.na(e))},c.o.J=new c.o,c.pa(c.o.J),c.b("nativeTemplateEngine",c.o),function(){c.ka=function(){var e=this.rb=function(){if("undefined"==typeof jQuery||!jQuery.tmpl)return 0;try{if(0<=jQuery.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,r,s){s=s||{},2>e&&i(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var o=n.data("precompiled");return o||(o=n.text()||"",o=jQuery.template(u,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),n.data("precompiled",o)),n=[r.$data],r=jQuery.extend({koBindingContext:r},s.templateOptions),r=jQuery.tmpl(o,n,r),r.appendTo(t.createElement("div")),jQuery.fragments={},r},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,n){t.write("<script type='text/html' id='"+e+"'>"+n+"</script>")},0<e&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},c.ka.prototype=new c.t;var e=new c.ka;0<e.rb&&c.pa(e),c.b("jqueryTmplTemplateEngine",c.ka)}()}var s=void 0,o=!0,u=null,a=!1;"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?l(module.exports||exports):"function"==typeof define&&define.amd?define(["exports"],l):l(e.ko={}),o})(window,document,navigator)
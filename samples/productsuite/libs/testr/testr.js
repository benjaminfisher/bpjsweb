/**
 * testr.js 1.0.2
 * https://www.github.com/mattfysh/testr.js
 * Distributed under the MIT license
 */

var testr,define;(function(){function a(e){return toString.call(e)=="[object Array]"}function f(e){return typeof e=="object"&&!a(e)}function l(e){var t=f(e)?{}:[];return c(e,function(e,n){t[n]=a(e)||f(e)?l(e):e}),t}function c(e,t){if(!e)return;if(typeof e.length=="number")for(var n=0;n<e.length;n+=1)t(e[n],n);else if(f(e))for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)}function h(e,t){return e.indexOf("!")===-1?t(e):(e=e.split("!"),e[1]&&(e[1]=t.toUrl(e[1]).substring(o.length)),e.join("!"))}function p(e,t,n,r){var s=[],o={},u,a,f,d,v=function(e){return t&&t[e]||p(e,t,n)};u=!r&&n&&i["stub/"+e+".stub"]||i[e];if(!u)try{return require(e)}catch(m){throw new Error("module has not been loaded: "+e)}return a=u.factory,f=u.deps,d=u.require,r&&c(t,function(e,n){var r=h(n,d);r!==n&&(t[r]=e,delete t[n])}),c(f,function(e){e=="exports"?e=o:e==="require"?e=function(e){return v(h(e,d))}:e=v(e),s.push(e)}),typeof a!="function"?l(a):a.apply(o,s)||o}var e="1.0.2",t=define,n=/require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,r=function(){},i=window.mm={},s={},o=require.toUrl(".").replace(/\.$/,""),u={autoLoad:!1};define=function(){function y(e,t){var n=2,o=[].slice.call(arguments,n);if(!t||s[t.id])return typeof r=="function"?r.apply(null,o):r;c(p,function(t){var r=f[t+n];o[t]=h(r,e)}),c(d,function(e){o[e]="exports"}),c(v,function(e){o[e]="require"}),i[t.id]={factory:r,deps:m?["require","exports"]:o,require:e};if(t.uri.indexOf("./stub")===0)return;return u.autoLoad&&require({context:t.id,baseUrl:".",deps:["stub/"+t.id+".stub","spec/"+t.id+".spec"]}),t.id}var e=[].slice.call(arguments),r=e.pop(),o=e.pop(),a=e.pop(),f=["require","module"],l=[],p=[],d=[],v=[],m=!o&&typeof r=="function",g;typeof o=="string"&&(a=o,o=[]),c(o,function(e,t){e.indexOf("!")>-1?(s[e.split("!")[0]]=!0,p.push(t)):e==="exports"?d.push(t):e==="require"&&v.push(t),f.push(e)}),o||r.toString().replace(n,function(e,t){l.push(t)}),l.length,g=[f.concat(l),y],a&&g.unshift(a),t.apply(null,g),a&&require([a])},define.amd=t.amd,testr=function(e,t,n){if(typeof e!="string")throw Error("module name must be a string");if(!n&&typeof t=="boolean")n=t,t={};else if(t&&!f(t))throw Error("stubs must be given as an object");return p(e,t,n,!0)},testr.config=function(e){c(e,function(e,t){u[t]=e})},testr.version=e})()
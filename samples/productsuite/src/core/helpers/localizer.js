define(["./storage"],function(e){function r(e){var t=_.templateSettings;_.templateSettings={interpolate:/\{\{(.+?)\}\}/g};var n=_.template(e);return _.templateSettings=t,n}var t;(t=e.retreive("user-language"))&&require.config({locale:t});var n=function(){};return n.localize=function(e,t){if(!t)return e;var n=r(e);return n({nls:t})},n.setLanguage=function(t){e.persist("user-language",t),location.reload()},n.clearLanguage=function(){e.remove("user-language"),location.reload()},n})
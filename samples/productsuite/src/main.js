/*
 RequireJS text 0.27.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/

/*
RequireJS i18n 1.0.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
Available via the MIT or new BSD license.
see: http://github.com/jrburke/requirejs for details
*/

/**
 * @license RequireJS domReady 2.0.0 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

define("core/helpers/storage",[],function(){var e=function(){};return e.persist=function(e,t){amplify.store(e,t)},e.retreive=function(e){return amplify.store(e)},e.remove=function(e){return amplify.store(e,null)},e}),define("core/helpers/localizer",["./storage"],function(e){function r(e){var t=_.templateSettings;_.templateSettings={interpolate:/\{\{(.+?)\}\}/g};var n=_.template(e);return _.templateSettings=t,n}var t;(t=e.retreive("user-language"))&&require.config({locale:t});var n=function(){};return n.localize=function(e,t){if(!t)return e;var n=r(e);return n({nls:t})},n.setLanguage=function(t){e.persist("user-language",t),location.reload()},n.clearLanguage=function(){e.remove("user-language"),location.reload()},n}),define("core/helpers/logger",[],function(){var e=function(){this.info=function(e){console&&console.log(e)},this.error=function(e,t){console&&(console.log("ERROR : "+e),console.error(t))}};return e}),define("core/helpers/mediator",[],function(){var e=function(){var e=new PubSub;return{notify:function(t,n){e.publish(t,n)},listen:function(t,n){e.subscribe(t,n)}}};return e}),define("core/helpers/router",[],function(){var e=function(){var e=crossroads.create();return e.normalizeFn=crossroads.NORM_AS_OBJECT,{addRoute:function(t,n){e.addRoute(t,n)},init:function(){function t(t,n){e.parse(t)}hasher.initialized.add(t),hasher.changed.add(t),hasher.isActive()||hasher.init()}}};return e.routeTo=function(e){hasher.setHash(e)},e}),define("core/helpers/settings",[],function(){var e=function(e){var t=!0,n={};return{load:function(e){_.extend(n,e)},items:function(){return t&&e?_.extend(_.clone(e.items()),n):n},chainSettings:function(e){t=e}}};return e}),define("core/helpers/styler",[],function(){var e=function(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},t=function(){};return t.attachCssLink=function(t,n){if(n){var r=document.getElementById(n);r?r.href=t:e(t)}else{var i=document.getElementsByTagName("link");for(var s=0;s<i.length;s++)if(i[s].href&&i[s].href.indexOf(t)!=-1)return;e(t)}},t.attachCssText=function(e,t){var n=document.getElementById(e);n&&n.parentNode.removeChild(n);var r=document.createElement("style");r.type="text/css",r.setAttribute("id",e),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(r)},t.attachScopedCss=function(e,t){t&&(styleElement=$("<style type='text/css' scoped='scoped'>"+t+"</style>"),e.prepend(styleElement))},t}),define("core/helpers/_helpers_",["require","./localizer","./logger","./mediator","./router","./settings","./storage","./styler"],function(e){return{Localizer:e("./localizer"),Logger:e("./logger"),Mediator:e("./mediator"),Router:e("./router"),Settings:e("./settings"),Storage:e("./storage"),Styler:e("./styler")}}),define("core/context",["./helpers/_helpers_"],function(e){var t=function(t){this.parentContext=t,this.mediator=this.parentContext?this.parentContext.mediator:new e.Mediator,this.settings=this.parentContext?new e.Settings(this.parentContext.settings):new e.Settings};return t.prototype.getSettings=function(){return this.settings.items()},t.prototype.addSettings=function(e){this.settings.load(e)},t.prototype.notify=function(e,t){this.mediator.notify(e,t)},t.prototype.listen=function(e,t){this.mediator.listen(e,t)},t.prototype.persistObject=function(t,n){e.Storage.persist(t,n)},t.prototype.retreiveObject=function(t){return e.Storage.retreive(t)},t.prototype.removeObject=function(t){return e.Storage.remove(t)},t.prototype.setLanguage=function(t){return e.Localizer.setLanguage(t)},t.prototype.clearLanguage=function(){return e.Localizer.clearLanguage()},t.prototype.getParentContext=function(){return this.parentContext},t.prototype.loadChildContexts=function(e){for(var t=0;t<e.length;t++){var n=e[t];new n(this)}},t}),define("core/dom-controller",[],function(){var DomController=function(scope){var self=this;return self.handles={},{addRoutes:function(e){_.extend(self.handles,e)},start:function(){for(path in self.handles)scope.find(path).each(function(index){var paramString=$(this).attr("params"),params=paramString?eval("({"+paramString+"})"):{};$(this).trigger("DEACTIVATE_HANDLERS"),$(this).bind("DEACTIVATE_HANDLERS",function(){(function(e){e.deactivate()})(self.handles[path])}),self.handles[path].activate($(this),params)})}}};return DomController}),define("core/url-controller",["./helpers/_helpers_"],function(e){var t=function(t){function i(e){this.handle=e;var n=this;this.activate=function(e){t.trigger("DEACTIVATE_HANDLERS"),n.handle.activate(t,e)},this.deactivate=function(){jQuery.isFunction(n.handle.deactivate)&&n.handle.deactivate()}}var n={},r=new e.Router;return t.bind("DEACTIVATE_HANDLERS",function(){for(handler in n)n[handler].deactivate()}),{addRoutes:function(e){for(path in e){var t=new i(e[path]);r.addRoute(path,t.activate),n[path]=t}},start:function(){r.init()}}};return t.goTo=function(t){e.Router.routeTo(t)},t}),define("core/view-template",["./helpers/_helpers_"],function(e){var t=function(e,t,n,r){this.createView(e,t,n,r)};return t.setStyleText=function(t,n){e.Styler.attachCssText(t,n)},t.setStyleLink=function(t,n){e.Styler.attachCssLink(t,n)},t.prototype.getElementId=function(){return this.viewId},t.prototype.getJQueryElement=function(){return this.jQueryElement},t.prototype.getDomElement=function(){return this.jQueryElement.get(0)},t.prototype.appendTo=function(e){this.jQueryElement.appendTo(e)},t.prototype.remove=function(){this.jQueryElement.remove()},t.prototype.hide=function(){this.jQueryElement.hide()},t.prototype.show=function(){this.jQueryElement.show()},t.prototype.createView=function(t,n,r,i){n=e.Localizer.localize(n,r),this.viewId=_.uniqueId(["bpjscontainer_"]),this.jQueryElement=$("<span id='"+this.viewId+"'>"+n+"</span>"),e.Styler.attachScopedCss(this.jQueryElement,i),t&&t.append(this.jQueryElement)},t}),define("Boiler",["require","./core/context","./core/dom-controller","./core/url-controller","./core/view-template","./core/helpers/_helpers_"],function(e){return{Context:e("./core/context"),DomController:e("./core/dom-controller"),UrlController:e("./core/url-controller"),ViewTemplate:e("./core/view-template"),Helpers:e("./core/helpers/_helpers_")}}),define("settings",{appName:"BoilerplateJS"}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r=typeof location!="undefined"&&location.href,i=r&&location.protocol&&location.protocol.replace(/\:/,""),s=r&&location.hostname,o=r&&(location.port||void 0),u=[];define("text",[],function(){var a,f,l;return typeof window!="undefined"&&window.navigator&&window.document?f=function(e,t){var n=a.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&t(n.responseText)},n.send(null)}:typeof process!="undefined"&&process.versions&&process.versions.node?(l=require.nodeRequire("fs"),f=function(e,t){t(l.readFileSync(e,"utf8"))}):typeof Packages!="undefined"&&(f=function(e,t){var n=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),n=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),"utf-8")),i,s,o="";try{i=new java.lang.StringBuffer,(s=n.readLine())&&s.length()&&s.charAt(0)===65279&&(s=s.substring(1));for(i.append(s);(s=n.readLine())!==null;)i.append(r),i.append(s);o=String(i.toString())}finally{n.close()}t(o)}),a={version:"0.27.0",strip:function(e){if(e){var e=e.replace(t,""),r=e.match(n);r&&(e=r[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,r;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(n=0;n<3;n++){r=e[n];try{t=new ActiveXObject(r)}catch(i){}if(t){e=[r];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:f,parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),e=e.substring(n+1,e.length),n=e.indexOf("!");return n!==-1&&(t=e.substring(n+1,e.length),t=t==="strip",e=e.substring(0,n)),{moduleName:r,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,r){var i=a.xdRegExp.exec(e),s;return i?(e=i[2],i=i[3],i=i.split(":"),s=i[1],i=i[0],(!e||e===t)&&(!i||i===n)&&(!s&&!i||s===r)):!0},finishLoad:function(e,t,n,r,i){n=t?a.strip(n):n,i.isBuild&&i.inlineText&&(u[e]=n),r(n)},load:function(e,t,n,u){var f=a.parseName(e),l=f.moduleName+"."+f.ext,c=t.toUrl(l),h=u&&u.text&&u.text.useXhr||a.useXhr;!r||h(c,i,s,o)?a.get(c,function(t){a.finishLoad(e,f.strip,t,n,u)}):t([l],function(e){a.finishLoad(f.moduleName+"."+f.ext,f.strip,e,n,u)})},write:function(e,t,n){if(t in u){var r=a.jsEscape(u[t]);n.asModule(e+"!"+t,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,t,n,r,i){var t=a.parseName(t),s=t.moduleName+"."+t.ext,o=n.toUrl(t.moduleName+"."+t.ext)+".js";a.load(s,n,function(){var t=function(e){return r(o,e)};t.asModule=function(e,t){return r.asModule(e,o,t)},a.write(e,s,t,i)},i)}}})}(),define("text!modules/baseModule/mainMenu/view.html",[],function(){return'<div class="black-title-with-bullet">\r\n    <span>Main Menu</span>\r\n</div>\r\n<ul>\r\n    <span class="menu-item" id="home"><a href="#">{{nls.home}}</a></span>\r\n</ul>\r\n<ul>\r\n    <span class="menu-item" id="product-module-a">{{nls.productmodulea}}</span>\r\n    <li>\r\n        <a href="#clickcounter">{{nls.clickcounter}}</a>\r\n    </li>\r\n    <li>\r\n        <a href="#departments">{{nls.departments}}</a>\r\n    </li>\r\n</ul>\r\n<ul>\r\n    <span class="menu-item" id="product-module-b">{{nls.productmoduleb}}</span>\r\n    <li>\r\n        <a href="#sales">{{nls.salesdashboard}}</a>\r\n    </li>\r\n    <li>\r\n        <a href="#employee/all">{{nls.employees}}</a>\r\n    </li>\r\n    <li>\r\n        <a href="#todo">{{nls.todo}}</a>\r\n    </li>\r\n</ul>'}),function(){function e(e,t,n,r,i,s){t[e]&&(n.push(e),(t[e]===!0||t[e]===1)&&r.push(i+e+"/"+s))}function t(e,t,n,r,i){t=r+t+"/"+i,require._fileExists(e.toUrl(t))&&n.push(t)}var n=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/,r={};define("i18n",{version:"1.0.0",load:function(i,s,u,a){var a=a||{},f=n.exec(i),l=f[1],c=f[4],h=f[5],p=c.split("-"),d=[],v={},m,g,y="";f[5]?(l=f[1],i=l+h):(h=f[4],c=a.locale||(a.locale=typeof navigator=="undefined"?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),p=c.split("-"));if(a.isBuild){d.push(i),t(s,"root",d,l,h);for(m=0;g=p[m];m++)y+=(y?"-":"")+g,t(s,y,d,l,h);s(d,function(){u()})}else s([i],function(t){var n=[];e("root",t,n,d,l,h);for(m=0;g=p[m];m++)y+=(y?"-":"")+g,e(y,t,n,d,l,h);s(d,function(){var e,i;for(e=n.length-1;e>-1&&(g=n[e]);e--){i=t[g];if(i===!0||i===1)i=s(l+g+"/"+h);var o=v,a=void 0;for(a in i)!(a in r)&&!(a in o)&&(o[a]=i[a])}u(v)})})}})}(),define("modules/baseModule/mainMenu/nls/resources",{root:{home:"Summary Page",productmodulea:"Product Module A",productmoduleb:"Product Module B",departments:"Knockout Departments",clickcounter:"Click Counter",salesdashboard:"Complex Dashboard",employees:"List-Detail Panels",todo:"Backbone TODO"},sv:!0}),define("path",{stringEndsWith:function(e,t){return e.indexOf(t,e.length-t.length)!==-1},load:function(e,t,n,r){var i=t.toUrl(e);!this.stringEndsWith(e,".js")&&this.stringEndsWith(i,".js")&&(i=i.substring(0,i.length-3)),n(i)}}),define("modules/baseModule/mainMenu/component",["require","Boiler","text!./view.html","i18n!./nls/resources","path!./style.css"],function(e,t,n,r,i){var s=function(e){var s=null;return{activate:function(e){s||(s=new t.ViewTemplate(e,n,r),t.ViewTemplate.setStyleLink(i)),s.show()},deactivate:function(){s&&s.hide()}}};return s}),define("text!modules/baseModule/language/view.html",[],function(){return'<ul class="horizontal-list" id="lang-selector">\r\n    <li>Language | </li>\r\n    <li id="en"><a>English</a></li>\r\n    <li id="sv"><a>Swedish</a></li>\r\n</ul>'}),define("modules/baseModule/language/component",["require","Boiler","text!./view.html"],function(e,t,n){var r=function(e){var r=null;return{activate:function(i){r||(r=new t.ViewTemplate(i,n),$("#lang-selector li").bind("click",function(){this.id&&e.setLanguage(this.id)})),r.show()},deactivate:function(){r&&r.hide()}}};return r}),define("text!modules/baseModule/theme/view.html",[],function(){return'<ul class="horizontal-list" id="theme-selector">\n	<li>Select a theme | </li>\n    <li id="gray"><a>Gray</a></li>\n    <li id="red"><a>Red</a></li>\n</ul>'}),define("modules/baseModule/theme/controller",["Boiler","path!./red/common.css","path!./gray/common.css"],function(e,t,n){var r="themeStylesheet",i={red:t,gray:n},s=function(t){var n=this;this.changeTheme=function(n){i[n]&&(e.ViewTemplate.setStyleLink(i[n],r),t.persistObject(r,n))},this.init=function(){var s=t.retreiveObject(r);i[s]||(s="gray"),e.ViewTemplate.setStyleLink(i[s],r),$("#theme-selector li").bind("click",function(){n.changeTheme(this.id)})}};return s}),define("modules/baseModule/theme/component",["Boiler","text!./view.html","./controller"],function(e,t,n){var r=function(r){var i=null;return{activate:function(s){i||(i=new e.ViewTemplate(s,t,null),(new n(r)).init()),i.show()},deactivate:function(){i&&i.hide()}}};return r}),define("text!modules/baseModule/landingPage/view.html",[],function(){return'<br/>\r\n<div >\r\n        Congratulations! You are one step closer to creating your next large scale Javascript application!\r\n        Following sections briefly describe the component samples we have implemented for your reference.\r\n</div>\r\n\r\n<br/>\r\n<div class="portlet-blue">\r\n    <div class="title">\r\n        <span>Samples in Product Module A</span>\r\n    </div>\r\n    <a href="#clickcounter" class="text-solid">Click Counter</a>\r\n    <div class="content">\r\n        provides an extremly simple adaptation of knockoutJS <a\r\n        href="http://knockoutjs.com/examples/clickCounter.html" target="_blank">Click Counter example</a>.\r\n        In addition, we added a lottery component to demonstrate inter-component interactions via events.\r\n    </div>\r\n    <br/>\r\n    <a href="#departments" class="text-solid">Knockout MVVM</a>\r\n    <div class="content">\r\n        shows a bit more complex usage of knockoutJS’s MVVM\r\n        architecture and its data bindings. The data for this panel is loaded from the server\r\n        through AJAX calls. This component is an adaptation of KnockoutJS\r\n        <a href="http://knockoutjs.com/examples/betterList.html" target="_blank">Better List example</a>.\r\n    </div>\r\n</div>\r\n<br/>\r\n<div class="portlet-blue">\r\n    <div class="title">\r\n        <span>Samples in Product Module B</span>\r\n    </div>\r\n    <a href="#sales" class="text-solid">Complex Dashboard</a>\r\n    <div class="content">\r\n        Demonstrates the use of a shared view model across components. There are two views in\r\n        this dashboard that use the same shared view model, which enables them to easily respond\r\n        to each other without using events. In addition we use some UI widgets for graphs and trees\r\n        in this sample.\r\n    </div>\r\n    <br/>\r\n    <a href="#employee/all" class="text-solid">List-Detail panels</a>\r\n    <div class="content">\r\n        A demonstration of implementing a list view and the relavant detail view\r\n        that use URL navigation to switch back and forth. All information is loaded from the server on-demand as JSON\r\n        documents.\r\n    </div>\r\n    <br/>\r\n    <a href="#todo" class="text-solid">Backbone TODO</a>\r\n    <div class="content">\r\n        Latest addition to BoilerplateJS due to the popular demand for\r\n         <a href="http://backbonejs.org" target="_blank">BackboneJS</a> integration.\r\n         We ported this component from Addyosmani\'s <a href="http://addyosmani.github.com/todomvc/dependency-examples/backbone_require/" target="_blank">  TODO example</a> without much changes to the original code. \r\n    </div>    \r\n</div>\r\n<br/>\r\n<div class="portlet-blue">\r\n    <div class="title">\r\n        <span>Other bits and pieces</span>\r\n    </div>\r\n    <div class="content">\r\n    <p>\r\n        We implemented theme support as a theme component that you will find at <i>\'src/modules/baseModule/theme\'</i>. \r\n        Try changing the theme via header, you will find the whole application layout responding as well. We strongly believe loose coupling is the key to maintainable and adaptable code. To demonstrate the point\r\n        for the theme component we do not use knockoutjs or backbonejs but plain jQuery event bindings.\r\n    </p>\r\n    <p>\r\n        For multilingual support we use RequireJS’s <a href="http://requirejs.org/docs/api.html#i18n" target="_blank">i18n\r\n        plugin</a>. Not all components on the sample have localized text, \r\n        but atleast you can see the effect on navigation menu.\r\n    </p>\r\n    </div>\r\n</div>\r\n\r\n'}),define("modules/baseModule/landingPage/component",["Boiler","text!./view.html"],function(e,t){var n=function(n){var r=null;this.activate=function(n,i){r||(r=new e.ViewTemplate(n,t)),r.show()},this.deactivate=function(){r&&r.hide()}};return n}),define("text!modules/baseModule/footer/view.html",[],function(){return'<div class="wrapper">\n    <div class="content">Released under MIT License</div>\n</div>\n'}),define("modules/baseModule/footer/component",["Boiler","text!./view.html"],function(e,t){var n=function(n){var r=null;this.activate=function(n){r||(r=new e.ViewTemplate(n,t)),r.show()},this.deactivate=function(){r&&r.hide()}};return n}),define("modules/baseModule/module",["Boiler","./mainMenu/component","./language/component","./theme/component","./landingPage/component","./footer/component"],function(e,t,n,r,i,s){var o=function(o){var u=new e.Context(o),a=new e.DomController($("#page-content"));a.addRoutes({".main-menu":new t(u),".language":new n(u),".theme":new r(u),".footer":new s(u)}),a.start();var a=new e.UrlController($(".appcontent"));a.addRoutes({"/":new i}),a.start()};return o}),define("modules/sampleModule1/settings",["path!../../../server/"],function(e){return{urls:{departments:e+"departments.txt"}}}),define("text!modules/sampleModule1/departments/view.html",[],function(){return'<div class="portlet-blue">\r\n    <div class="title"><span>{{nls.title}}</span></div>\r\n    <div class="content">\r\n        <div class="input-field"><span>{{nls.createnew}}: </span><input class="txtbox-input " type="text"\r\n                                                                        data-bind=\'value:itemToAdd, valueUpdate: "afterkeydown"\'/>\r\n            <button data-bind="enable: itemToAdd().length > 0, click: addItem"/>\r\n            {{nls.adddept}}</button>\r\n        </div>\r\n\r\n        <div class="sub-title">{{nls.deptlist}}</div>\r\n        <div class="input-field"><select class="select-input" multiple="multiple"\r\n                                         data-bind="options:allItems, selectedOptions:selectedItems"></select></div>\r\n        <div>\r\n            <button data-bind="click: removeSelected, enable: selectedItems().length > 0">\r\n                {{nls.remove}}\r\n            </button>\r\n            <button data-bind="click: sortItems, enable: allItems().length > 1">\r\n                {{nls.sort}}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>'}),define("modules/sampleModule1/departments/viewmodel",[],function(){var e="Boiler Department",t=function(t){var n=this;this.itemToAdd=ko.observable(e),this.allItems=ko.observableArray([]),this.selectedItems=ko.observableArray(),this.initialize=function(r){r?this.itemToAdd(r):this.itemToAdd(e),$.getJSON(t.getSettings().urls.departments,function(e){n.allItems(e)})},this.addItem=function(){this.itemToAdd()!=""&&this.allItems.indexOf(this.itemToAdd())<0&&this.allItems.push(this.itemToAdd()),this.itemToAdd("")},this.removeSelected=function(){this.allItems.removeAll(this.selectedItems()),this.selectedItems([])},this.sortItems=function(){this.allItems.sort()}};return t}),define("modules/sampleModule1/departments/nls/resources",{root:{title:"Manage Drepartments",deptlist:"Department List",createnew:"Create a new department",adddept:"Add Dept",remove:"Remove",sort:"Sort"},sv:!0}),define("modules/sampleModule1/departments/component",["Boiler","text!./view.html","./viewmodel","i18n!./nls/resources","path!./style.css"],function(e,t,n,r,i){var s=function(s){var o,u=null;this.activate=function(a,f){o||(o=new e.ViewTemplate(a,t,r),e.ViewTemplate.setStyleLink(i),u=new n(s),ko.applyBindings(u,o.getDomElement())),u.initialize(f.name),o.show()},this.deactivate=function(){o&&o.hide()}};return s}),define("text!modules/sampleModule1/clickCounter/view.html",[],function(){return"<table>\n    <tr>\n        <td valign=\"top\"><div id='clickme'></div></td>\n        <td valign=\"top\"><div id='lottery'></div></td>\n    </tr>\n</table>"}),define("modules/sampleModule1/clickCounter/clickme/viewmodel",[],function(){var e=function(e){this.numberOfClicks=ko.observable(0),this.registerClick=function(){this.numberOfClicks(this.numberOfClicks()+1),e.notify("LOTTERY_ACTIVITY",this.numberOfClicks())},this.resetClicks=function(){this.numberOfClicks(0)},this.hasClickedTooManyTimes=ko.computed(function(){return this.numberOfClicks()>=5},this)};return e}),define("text!modules/sampleModule1/clickCounter/clickme/view.html",[],function(){return"<div class=\"portlet-blue\">\r\n    <div class=\"title\">\r\n        <span>Click Counter</span>\r\n    </div>\r\n    <div class=\"content\">\r\n        <div>\r\n            You've clicked <span data-bind='text: numberOfClicks'>&nbsp;</span> times\r\n        </div>\r\n        <br/>\r\n        <button data-bind='click: registerClick, visible: !hasClickedTooManyTimes()'>\r\n            Click me\r\n        </button>\r\n        <div data-bind='visible: hasClickedTooManyTimes'>\r\n            <button data-bind='click: resetClicks'>\r\n                Reset clicks\r\n            </button>\r\n            <br/>\r\n            <br/>\r\n            <div class=\"error\">\r\n                Too many clicks! Stop before you wear out your fingers.\r\n            </div>\r\n            <br/>\r\n            <br/>\r\n        </div>\r\n    </div>\r\n</div>\r\n"}),define("modules/sampleModule1/clickCounter/clickme/component",["Boiler","./viewmodel","text!./view.html"],function(e,t,n){var r=function(r){var i,s=null;this.initialize=function(o){s||(s=new e.ViewTemplate(o,n,null),i=new t(r),ko.applyBindings(i,s.getDomElement()))}};return r}),define("modules/sampleModule1/clickCounter/lottery/viewmodel",[],function(){var e=function(e){var t=this;this.hasWon=ko.observable(!1),this.luckyNumber=ko.observable(),this.yourNumber=ko.observable(),e.listen("LOTTERY_ACTIVITY",function(e){t.luckyNumber(Math.floor(Math.random()*5)+1),t.yourNumber(e),t.hasWon(t.luckyNumber()===t.yourNumber())})};return e}),define("text!modules/sampleModule1/clickCounter/lottery/view.html",[],function(){return'<div class="portlet-gray">\r\n    <div class="title">\r\n        <span>Click-n-Win Lottery</span>\r\n    </div>\r\n    <div id="lotteryWon" class="sub-title text-center" data-bind="visible: hasWon()">\r\n        Congratulations... You WON!!!\r\n    </div>\r\n    <div id="lotteryLost"  class=\'text-center sub-title\' data-bind="visible: !hasWon()">\r\n        <div data-bind=\'visible: yourNumber\'>\r\n            LuckyNumber was <label data-bind=\'text: luckyNumber\'></label>, but YourNumber is <label data-bind=\'text: yourNumber\'></label>\r\n        </div>\r\n        <div>\r\n            Keep Clicking to Win!!!\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("modules/sampleModule1/clickCounter/lottery/component",["Boiler","./viewmodel","text!./view.html","path!./style.css"],function(e,t,n,r){var i=function(i){var s,o=null;this.initialize=function(u){o||(o=new e.ViewTemplate(u,n,null),e.ViewTemplate.setStyleLink(r),s=new t(i),ko.applyBindings(s,o.getDomElement()))}};return i}),define("modules/sampleModule1/clickCounter/component",["Boiler","text!./view.html","./clickme/component","./lottery/component"],function(e,t,n,r){var i=function(i){var s=null;this.activate=function(o,u){if(!s){s=new e.ViewTemplate(o,t,null);var a=new n(i);a.initialize($("#clickme"));var f=new r(i);f.initialize($("#lottery"))}s.show()},this.deactivate=function(){s&&s.hide()}};return i}),define("modules/sampleModule1/module",["Boiler","./settings","./departments/component","./clickCounter/component"],function(e,t,n,r){var i=function(i){var s=new e.Context(i);s.addSettings(t);var o=new e.UrlController($(".appcontent"));o.addRoutes({"departments/:name:":new n(s),clickcounter:new r(s)}),o.start()};return i}),define("modules/sampleModule2/settings",["path!../../../server/"],function(e){return{urls:{empimages:e+"{empid}.png",empdetails:e+"{empid}.txt",yearlysales:e+"yearly-sales.txt",employees:e+"employees.txt"}}}),define("text!modules/sampleModule2/employeeList/view.html",[],function(){return'<div class="portlet-blue">\r\n\r\n    <div class="title"><span>Sales Person List</span>\r\n    </div>\r\n    <div class="content">\r\n        <table cellpadding="0" cellspacing="0">\r\n            <thead>\r\n            <tr>\r\n                <th>First name</th>\r\n                <th>Last Name</th>\r\n                <th>Average Sales</th>\r\n            </tr>\r\n            </thead>\r\n\r\n            <tbody data-bind="foreach:salesPersons">\r\n            <tr>\r\n                <td><a href="#" data-bind="text: firstName, click:$root.personClicked"></a></td>\r\n                <td><a href="#" data-bind="text: lastName, click:$root.personClicked"></a></td>\r\n                <td><a href="#" data-bind="text: averageSales, click:$root.personClicked"></a></td>\r\n            </tr>\r\n            </tbody>\r\n\r\n        </table>\r\n    </div>\r\n</div>\r\n'}),define("modules/sampleModule2/employeeList/viewmodel",["Boiler"],function(e){var t=function(t){var n=this;this.salesPersons=ko.observableArray(),this.personClicked=function(t){e.UrlController.goTo("employee/"+t.id)},$.getJSON(t.getSettings().urls.employees,function(e){n.salesPersons(e)})};return t}),define("modules/sampleModule2/employeeList/component",["Boiler","text!./view.html","./viewmodel"],function(e,t,n){var r=function(r){var i,s=null;this.activate=function(o,u){s||(i=new n(r),s=new e.ViewTemplate(o,t),ko.applyBindings(i,s.getDomElement())),s.show()},this.deactivate=function(){s&&s.hide()}};return r}),define("text!modules/sampleModule2/employeeDetails/view.html",[],function(){return'<div class="portlet-gray">\r\n\r\n    <div class="title"><span>Sales Person Details</span>\r\n    </div>\r\n\r\n    <div class="content">\r\n        <table data-bind="with:employee">\r\n            <tbody>\r\n            <tr>\r\n                <td rowspan="7" width="150"><img data-bind="attr : {src: imageId}"/></td>\r\n            </tr>\r\n            <tr>\r\n                <td>ID</td>\r\n                <td><strong data-bind="text: id"></strong></td>\r\n            </tr>\r\n            <tr>\r\n                <td>First name</td>\r\n                <td><strong data-bind="text: firstName"></strong></td>\r\n            </tr>\r\n            <tr>\r\n                <td>Last name</td>\r\n                <td><strong data-bind="text: lastName"></strong></td>\r\n            </tr>\r\n            <tr>\r\n                <td>Age</td>\r\n                <td><strong data-bind="text: age"></strong></td>\r\n            </tr>\r\n            <tr>\r\n                <td>Email</td>\r\n                <td><strong data-bind="text: email"></strong></td>\r\n            </tr>\r\n            <tr>\r\n                <td>Average Sales</td>\r\n                <td><strong data-bind="text: averageSales"></strong></td>\r\n            </tr>\r\n\r\n            </tbody>\r\n        </table>\r\n        <a data-bind="click:backToList" href=""> << Back to list</a>\r\n    </div>\r\n\r\n</div>'}),define("text!modules/sampleModule2/employeeDetails/style.css",[],function(){return"#salesperson-details {\r\n	display: block;\r\n	margin-left: auto;\r\n	margin-right: auto;\r\n}\r\n"}),define("modules/sampleModule2/employeeDetails/viewmodel",["Boiler"],function(e){var t=function(t){var n=this;this.employee=ko.observable(),this.backToList=function(){e.UrlController.goTo("employee/all")},this.setEmployee=function(e){if(e){var r=t.getSettings().urls.empdetails.replace("{empid}",e);$.getJSON(r,function(r){r.imageurl=t.getSettings().urls.empimages.replace("{empid}",e),n.employee(r)})}}};return t}),define("modules/sampleModule2/employeeDetails/component",["Boiler","text!./view.html","text!./style.css","./viewmodel"],function(e,t,n,r){var i=function(i){var s,o=null;this.activate=function(u,a){o||(s=new r(i,a.id),o=new e.ViewTemplate(u,t,null,n),ko.applyBindings(s,o.getDomElement())),s.setEmployee(a.id),o.show()},this.deactivate=function(){o&&o.hide()}};return i}),define("text!modules/sampleModule2/salesDashboard/view.html",[],function(){return'<div>\n	<div id="tree">\n	</div>\n	<div id="chart">\n	</div>\n</div>\n'}),define("modules/sampleModule2/salesDashboard/chartBinding",[],function(){var e=function(e,t){if(t.dataItems.length>0){var n={lines:{show:!0},points:{show:!0},xaxis:{ticks:t.tickLabels}},r=[{label:t.label,data:t.dataItems}];$.plot(e,r,n)}};ko.bindingHandlers.flotChart={init:function(t,n){e(t,n())},update:function(t,n){e(t,n())}}}),define("modules/sampleModule2/salesDashboard/viewmodel",["./chartBinding","path!./treeViewPanel/jstreestyle/"],function(e,t){var n=function(e){var n=this;this.salesInfo=ko.observableArray(),this.selectedDept=ko.observable(""),this.selectedData=ko.observableArray(),this.chartData=ko.computed(function(){var e=_.map(n.selectedData().values,function(e,t){return[t,e.month]}),t=_.map(n.selectedData().values,function(e,t){return[t,e.sales]}),r=n.selectedDept()+" - "+n.selectedData().year;return{tickLabels:e,dataItems:t,label:r}}),this.drawTree=function(){$.jstree._themes=t,$("#treeView").jstree({themes:{theme:"apple"},plugins:["themes","html_data"],core:{initially_open:["salesDept"]}})},this.yearClicked=function(e,t){n.selectedDept(e),n.selectedData(t)},$.getJSON(e.getSettings().urls.yearlysales,function(e){n.salesInfo(e),n.selectedDept(e[0].name),n.selectedData(e[0].years[0])})};return n}),define("text!modules/sampleModule2/salesDashboard/chartViewPanel/view.html",[],function(){return'<div class="portlet-gray width_3_quarter right">\r\n\r\n    <div class="title"><span>Anunual Sales Graph - <strong data-bind="text: selectedDept"></strong> Department</span>\r\n    </div>\r\n    <div class="content">\r\n        <div id="chart-placeholder" data-bind="flotChart: chartData()"></div>\r\n\r\n\r\n        <div class="sub-title">Sales for the Year <strong\r\n                data-bind="text: selectedData().year"></strong></div>\r\n\r\n\r\n        <table cellpadding="0" cellspacing="0">\r\n            <tr>\r\n                <th>Month</th>\r\n                <th>Sales</th>\r\n            </tr>\r\n            </thead>\r\n\r\n            <tbody data-bind="foreach:selectedData().values">\r\n            <tr>\r\n                <td data-bind="text: month"></td>\r\n                <td data-bind="text: sales"></td>\r\n            </tr>\r\n            </tbody>\r\n\r\n        </table>\r\n    </div>\r\n\r\n</div>'}),define("text!modules/sampleModule2/salesDashboard/chartViewPanel/style.css",[],function(){return"#chart-placeholder table{\n	width:auto;\n}\n#chart-placeholder {\n	height: 200px;\n}\n"}),define("modules/sampleModule2/salesDashboard/chartViewPanel/component",["Boiler","text!./view.html","text!./style.css"],function(e,t,n){var r=function(r){new e.ViewTemplate(r,t,null,n)};return r}),define("text!modules/sampleModule2/salesDashboard/treeViewPanel/view.html",[],function(){return'<div class="portlet-blue width_quarter left">\r\n    <div class="title"><span>Sales Departments</span></div>\r\n\r\n    <div class="content">\r\n        <div id="treeView">\r\n            <ul id="salesInfo" data-bind="foreach:{data : salesInfo ,afterRender: drawTree }">\r\n                <li class="department">\r\n				<span\r\n                        data-bind="text: name"></span>\r\n                    <ul id="salesDept" data-bind="foreach: years">\r\n                        <li class="years">\r\n                            <a href="#"\r\n                               data-bind="text: year, click:function(data, event) { $root.yearClicked($parent.name,data); }"></a>\r\n                        </li>\r\n                    </ul>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>'}),define("text!modules/sampleModule2/salesDashboard/treeViewPanel/style.css",[],function(){return"#treeView {\n	width: 90%;\n	float: left;\n}\n"}),define("modules/sampleModule2/salesDashboard/treeViewPanel/component",["Boiler","text!./view.html","text!./style.css"],function(e,t,n){var r=function(r){new e.ViewTemplate(r,t,null,n)};return r}),define("modules/sampleModule2/salesDashboard/component",["Boiler","text!./view.html","./viewmodel","./chartViewPanel/component","./treeViewPanel/component"],function(e,t,n,r,i){var s=function(s){var o,u=null;this.activate=function(a,f){o||(u=new n(s),o=new e.ViewTemplate(a,t),new i(o.getJQueryElement()),new r(o.getJQueryElement()),ko.applyBindings(u,o.getDomElement())),o.show()},this.deactivate=function(){o&&o.hide()}};return s}),define("modules/sampleModule2/backboneTodo/common",[],function(){return{TodoFilter:"",ENTER_KEY:13}}),define("modules/sampleModule2/backboneTodo/localstorage",[],function(){function e(){return((1+Math.random())*65536|0).toString(16).substring(1)}function t(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var n=function(e){this.name=e;var t=localStorage.getItem(this.name);this.data=t&&JSON.parse(t)||{}};return _.extend(n.prototype,{save:function(){localStorage.setItem(this.name,JSON.stringify(this.data))},create:function(e){return e.id||(e.id=e.attributes.id=t()),this.data[e.id]=e,this.save(),e},update:function(e){return this.data[e.id]=e,this.save(),e},find:function(e){return this.data[e.id]},findAll:function(){return _.values(this.data)},destroy:function(e){return delete this.data[e.id],this.save(),e}}),Backbone.sync=function(e,t,n){var r,i=t.localStorage||t.collection.localStorage;switch(e){case"read":r=t.id?i.find(t):i.findAll();break;case"create":r=i.create(t);break;case"update":r=i.update(t);break;case"delete":r=i.destroy(t)}r?n.success(r):n.error("Record not found")},n}),define("modules/sampleModule2/backboneTodo/models/todo",[],function(){var e=Backbone.Model.extend({defaults:{title:"",completed:!1},toggle:function(){this.save({completed:!this.get("completed")})}});return e}),define("modules/sampleModule2/backboneTodo/collections/todos",["../localstorage","../models/todo"],function(e,t){var n=Backbone.Collection.extend({model:t,localStorage:new e("todos-backbone"),completed:function(){return this.filter(function(e){return e.get("completed")})},remaining:function(){return this.without.apply(this,this.completed())},nextOrder:function(){return this.length?this.last().get("order")+1:1},comparator:function(e){return e.get("order")}});return new n}),define("text!modules/sampleModule2/backboneTodo/templates/component.html",[],function(){return'<div class="portlet-blue">\n    <div class="title">\n        <span>todos</span>\n    </div>\n    <section id="todoapp">\n        <div id="header">\n            <input id="new-todo" placeholder="What needs to be done?" autofocus>\n        </div>\n        <section id="main">\n            <input id="toggle-all" type="checkbox">\n            <label for="toggle-all">Mark all as complete</label>\n            <ul id="todo-list"></ul>\n        </section>\n        <div id="footer"></div>\n    </section>\n</div>'}),define("text!modules/sampleModule2/backboneTodo/templates/todos.html",[],function(){return'<div class="view">\n	<input class="toggle" type="checkbox" <%= completed ? \'checked\' : \'\' %>>\n	<label><%- title %></label>\n	<button class="destroy"></button>\n</div>\n<input class="edit" value="<%- title %>">\n'}),define("modules/sampleModule2/backboneTodo/views/todos",["text!../templates/todos.html","../common"],function(e,t){var n=Backbone.View.extend({tagName:"li",template:_.template(e),events:{"click .toggle":"togglecompleted","dblclick label":"edit","click .destroy":"clear","keypress .edit":"updateOnEnter","blur .edit":"close"},initialize:function(){this.model.on("change",this.render,this),this.model.on("destroy",this.remove,this)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.toggleClass("completed",this.model.get("completed")),this.input=this.$(".edit"),this},togglecompleted:function(){this.model.toggle()},edit:function(){this.$el.addClass("editing"),this.input.focus()},close:function(){var e=this.input.val().trim();e?this.model.save({title:e}):this.clear(),this.$el.removeClass("editing")},updateOnEnter:function(e){e.keyCode===t.ENTER_KEY&&this.close()},clear:function(){this.model.destroy()}});return n}),define("text!modules/sampleModule2/backboneTodo/templates/stats.html",[],function(){return'<span id="todo-count"><strong><%= remaining %></strong> <%= remaining == 1 ? \'item\' : \'items\' %> left</span>\n<ul id="filters">\n	<li>\n		<a class="selected" href="#todo/">All</a>\n	</li>\n	<li>\n		<a href="#todo/active">Active</a>\n	</li>\n	<li>\n		<a href="#todo/completed">Completed</a>\n	</li>\n</ul>\n<% if ( completed ) { %>\n<button id="clear-completed">Clear completed (<%= completed %>)</button>\n<% } %>\n'}),define("modules/sampleModule2/backboneTodo/views/app",["../collections/todos","../views/todos","text!../templates/stats.html","../common"],function(e,t,n,r){var i=Backbone.View.extend({el:"#todoapp",template:_.template(n),events:{"keypress #new-todo":"createOnEnter","click #clear-completed":"clearCompleted","click #toggle-all":"toggleAllComplete"},initialize:function(){this.input=this.$("#new-todo"),this.allCheckbox=this.$("#toggle-all")[0],this.$footer=this.$("#footer"),this.$main=this.$("#main"),e.on("add",this.addAll,this),e.on("reset",this.addAll,this),e.on("change:completed",this.addAll,this),e.on("all",this.render,this),e.fetch()},render:function(){var t=e.completed().length,n=e.remaining().length;e.length?(this.$main.show(),this.$footer.show(),this.$footer.html(this.template({completed:t,remaining:n})),this.$("#filters li a").removeClass("selected").filter('[href="#/'+(r.TodoFilter||"")+'"]').addClass("selected")):(this.$main.hide(),this.$footer.hide()),this.allCheckbox.checked=!n},addOne:function(e){var n=new t({model:e});$("#todo-list").append(n.render().el)},addAll:function(){this.$("#todo-list").html("");switch(r.TodoFilter){case"active":_.each(e.remaining(),this.addOne);break;case"completed":_.each(e.completed(),this.addOne);break;default:e.each(this.addOne,this)}},newAttributes:function(){return{title:this.input.val().trim(),order:e.nextOrder(),completed:!1}},createOnEnter:function(t){if(t.which!==r.ENTER_KEY||!this.input.val().trim())return;e.create(this.newAttributes()),this.input.val("")},clearCompleted:function(){return _.each(e.completed(),function(e){e.destroy()}),!1},toggleAllComplete:function(){var t=this.allCheckbox.checked;e.each(function(e){e.save({completed:t})})}});return i}),define("modules/sampleModule2/backboneTodo/component",["Boiler","./common","./collections/todos","text!./templates/component.html","./views/app","path!./style/base.css"],function(e,t,n,r,i,s){var o=function(o){var u,a=null;this.activate=function(o,f){u||(u=new e.ViewTemplate(o,r),e.ViewTemplate.setStyleLink(s),a=new i),t.TodoFilter=f.action||"",n.trigger("reset"),u.show()},this.deactivate=function(){u&&u.hide()}};return o}),define("modules/sampleModule2/module",["Boiler","./settings","./employeeList/component","./employeeDetails/component","./salesDashboard/component","./backboneTodo/component"],function(e,t,n,r,i,s){var o=function(o){var u=new e.Context(o);u.addSettings(t);var a=new e.UrlController($(".appcontent"));a.addRoutes({"employee/all":new n(u),"employee/{id}":new r(u),sales:new i(u),"todo/:action:":new s(u)}),a.start()};return o}),define("modules/modules",["require","./baseModule/module","./sampleModule1/module","./sampleModule2/module"],function(e){return[e("./baseModule/module"),e("./sampleModule1/module"),e("./sampleModule2/module")]}),define("application",["Boiler","./settings","./modules/modules"],function(e,t,n){var r=function(){var r=new e.Context;r.addSettings(t),r.loadChildContexts(n)};return r}),define("domReady",[],function(){function u(e){var t;for(t=0;t<e.length;t++)e[t](n)}function a(){var e=r;t&&e.length&&(r=[],u(e))}function f(){t||(t=!0,o&&clearInterval(o),a())}function c(e){return t?e(n):r.push(e),c}var e=typeof window!="undefined"&&window.document,t=!e,n=e?document:null,r=[],i,s,o;if(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1);else if(window.attachEvent){window.attachEvent("onload",f),s=document.createElement("div");try{i=window.frameElement===null}catch(l){}s.doScroll&&i&&window.external&&(o=setInterval(function(){try{s.doScroll(),f()}catch(e){}},30))}(document.readyState==="complete"||document.readyState==="interactive")&&f()}return c.version="2.0.0",c.load=function(e,t,n,r){r.isBuild?n(null):c(n)},c}),require.config({paths:{text:"../libs/require/text",order:"../libs/require/order",i18n:"../libs/require/i18n",domReady:"../libs/require/domReady",path:"../libs/require/path",Boiler:"./core/_boiler_"}}),require(["./application","domReady"],function(e,t){t(function(){new e})}),define("main",function(){})
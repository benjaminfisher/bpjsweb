define(["Boiler","path!./red/common.css","path!./gray/common.css"],function(e,t,n){var r="themeStylesheet",i={red:t,gray:n},s=function(t){var n=this;this.changeTheme=function(n){i[n]&&(e.ViewTemplate.setStyleLink(i[n],r),t.persistObject(r,n))},this.init=function(){var s=t.retreiveObject(r);i[s]||(s="gray"),e.ViewTemplate.setStyleLink(i[s],r),$("#theme-selector li").bind("click",function(){n.changeTheme(this.id)})}};return s})